{"version":3,"file":"photos-src_mixins_FetchAlbumsMixin_js-src_components_Albums_AlbumForm_vue.js?v=4720e2e394337403751f","mappings":"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","sources":["webpack:///photos/src/mixins/FetchAlbumsMixin.js","webpack:///photos/src/components/Albums/AlbumForm.vue?vue&type=style&index=0&id=5bc188a2&lang=scss&scoped=true&","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=5b016e4c&lang=scss&scoped=true&","webpack:///photos/src/components/Albums/AlbumForm.vue?vue&type=template&id=5bc188a2&scoped=true&","webpack:///photos/src/components/Albums/AlbumForm.vue","webpack:///photos/src/components/Albums/AlbumForm.vue?vue&type=script&lang=js&","webpack://photos/./src/components/Albums/AlbumForm.vue?295a","webpack://photos/./src/components/Albums/AlbumForm.vue?8dc6","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue?vue&type=template&id=5b016e4c&scoped=true&","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue","webpack:///photos/src/components/Albums/CollaboratorsSelectionForm.vue?vue&type=script&lang=js&","webpack://photos/./src/components/Albums/CollaboratorsSelectionForm.vue?f374","webpack://photos/./src/components/Albums/CollaboratorsSelectionForm.vue?e975"],"sourcesContent":["/**\r\n * @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\r\n *\r\n * @author Louis Chemineau <louis@chmn.me>\r\n *\r\n * @license AGPL-3.0-or-later\r\n *\r\n * This program is free software: you can redistribute it and/or modify\r\n * it under the terms of the GNU Affero General Public License as\r\n * published by the Free Software Foundation, either version 3 of the\r\n * License, or (at your option) any later version.\r\n *\r\n * This program is distributed in the hope that it will be useful,\r\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n * GNU Affero General Public License for more details.\r\n *\r\n * You should have received a copy of the GNU Affero General Public License\r\n * along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n *\r\n */\r\n\r\nimport { mapGetters, mapActions } from 'vuex'\r\n\r\nimport { getCurrentUser } from '@nextcloud/auth'\r\n\r\nimport AbortControllerMixin from './AbortControllerMixin.js'\r\nimport { fetchAlbums } from '../services/Albums.js'\r\n\r\nexport default {\r\n\tname: 'FetchAlbumsMixin',\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\terrorFetchingAlbums: null,\r\n\t\t\tloadingAlbums: false,\r\n\t\t}\r\n\t},\r\n\r\n\tmixins: [\r\n\t\tAbortControllerMixin,\r\n\t],\r\n\r\n\tasync beforeMount() {\r\n\t\tthis.fetchAlbums()\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t...mapGetters([\r\n\t\t\t'albums',\r\n\t\t]),\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapActions([\r\n\t\t\t'addAlbums',\r\n\t\t]),\r\n\r\n\t\tasync fetchAlbums() {\r\n\t\t\tif (this.loadingAlbums) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tthis.loadingAlbums = true\r\n\t\t\t\tthis.errorFetchingAlbums = null\r\n\r\n\t\t\t\tconst albums = await fetchAlbums(`/photos/${getCurrentUser()?.uid}/albums`, this.abortController.signal)\r\n\r\n\t\t\t\tthis.addAlbums({ albums })\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (error.response?.status === 404) {\r\n\t\t\t\t\tthis.errorFetchingAlbums = 404\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorFetchingAlbums = error\r\n\t\t\t\t}\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingAlbums = false\r\n\t\t\t}\r\n\t\t},\r\n\t},\r\n}\r\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".album-form[data-v-5bc188a2]{display:flex;flex-direction:column;height:350px;padding:16px}.album-form .form-title[data-v-5bc188a2]{font-weight:bold}.album-form .form-subtitle[data-v-5bc188a2]{color:var(--color-text-lighter)}.album-form .form-inputs[data-v-5bc188a2]{flex-grow:1;justify-items:flex-end}.album-form .form-inputs input[data-v-5bc188a2]{width:100%}.album-form .form-inputs label[data-v-5bc188a2]{display:flex;margin-top:16px}.album-form .form-inputs label[data-v-5bc188a2]  svg{margin-right:12px}.album-form .form-buttons[data-v-5bc188a2]{display:flex;justify-content:space-between}.album-form .form-buttons .left-buttons[data-v-5bc188a2],.album-form .form-buttons .right-buttons[data-v-5bc188a2]{display:flex}.album-form .form-buttons .right-buttons[data-v-5bc188a2]{justify-content:flex-end}.album-form .form-buttons button[data-v-5bc188a2]{margin-right:16px}.left-buttons[data-v-5bc188a2]{flex-grow:1}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Albums/AlbumForm.vue\"],\"names\":[],\"mappings\":\"AAoPA,6BACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEA,yCACC,gBAAA,CAGD,4CACC,+BAAA,CAGD,0CACC,WAAA,CACA,sBAAA,CAEA,gDACC,UAAA,CAGD,gDACC,YAAA,CACA,eAAA,CAEA,qDACC,iBAAA,CAKH,2CACC,YAAA,CACA,6BAAA,CAEA,mHACC,YAAA,CAGD,0DACC,wBAAA,CAGD,kDACC,iBAAA,CAKH,+BACC,WAAA\",\"sourcesContent\":[\"$sizes: (\\\"400\\\": (\\\"count\\\": 3, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"700\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"1024\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1280\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1440\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"1600\\\": (\\\"count\\\": 6, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2048\\\": (\\\"count\\\": 7, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2560\\\": (\\\"count\\\": 8, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"3440\\\": (\\\"count\\\": 9, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"max\\\": (\\\"count\\\": 10, \\\"marginTop\\\": 88, \\\"marginW\\\": 88));\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.album-form {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\theight: 350px;\\r\\n\\tpadding: 16px;\\r\\n\\r\\n\\t.form-title {\\r\\n\\t\\tfont-weight: bold;\\r\\n\\t}\\r\\n\\r\\n\\t.form-subtitle {\\r\\n\\t\\tcolor: var(--color-text-lighter);\\r\\n\\t}\\r\\n\\r\\n\\t.form-inputs {\\r\\n\\t\\tflex-grow: 1;\\r\\n\\t\\tjustify-items: flex-end;\\r\\n\\r\\n\\t\\tinput {\\r\\n\\t\\t\\twidth: 100%;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tlabel {\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\tmargin-top: 16px;\\r\\n\\r\\n\\t\\t\\t::v-deep svg {\\r\\n\\t\\t\\t\\tmargin-right: 12px;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t.form-buttons {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tjustify-content: space-between;\\r\\n\\r\\n\\t\\t.left-buttons, .right-buttons {\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t.right-buttons {\\r\\n\\t\\t\\tjustify-content: flex-end;\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\tbutton {\\r\\n\\t\\t\\tmargin-right: 16px;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\\r\\n.left-buttons {\\r\\n\\tflex-grow: 1;\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".manage-collaborators[data-v-5b016e4c]{display:flex;flex-direction:column;padding:20px;height:500px}.manage-collaborators__title[data-v-5b016e4c]{font-weight:bold}.manage-collaborators__subtitle[data-v-5b016e4c]{color:var(--color-text-lighter)}.manage-collaborators__public-link-button[data-v-5b016e4c]{margin:4px 0}.manage-collaborators__form[data-v-5b016e4c]{margin-top:4px 0;display:flex;flex-direction:column}.manage-collaborators__form__input[data-v-5b016e4c]{position:relative;display:block}.manage-collaborators__form__input input[data-v-5b016e4c]{width:100%;padding-left:34px}.manage-collaborators__form__input .loading-icon[data-v-5b016e4c]{position:absolute;top:8px;right:8px}.manage-collaborators__form__list[data-v-5b016e4c]{padding:8px;height:350px;overflow:scroll}.manage-collaborators__form__list__result[data-v-5b016e4c]{padding:8px;border-radius:100px;box-sizing:border-box}.manage-collaborators__form__list__result[data-v-5b016e4c],.manage-collaborators__form__list__result *[data-v-5b016e4c]{cursor:pointer !important}.manage-collaborators__form__list__result[data-v-5b016e4c]:hover{background:var(--color-background-dark)}.manage-collaborators__form__list--empty[data-v-5b016e4c]{margin:100px 0}.manage-collaborators__selection[data-v-5b016e4c]{display:flex;flex-direction:column;margin-top:8px;flex-grow:1}.manage-collaborators__selection__item[data-v-5b016e4c]{border-radius:var(--border-radius-pill);padding:0 8px}.manage-collaborators__selection__item[data-v-5b016e4c]:hover{background:var(--color-background-dark)}.manage-collaborators .actions[data-v-5b016e4c]{display:flex;margin-top:8px}.manage-collaborators .actions__public-link[data-v-5b016e4c]{display:flex;align-items:center}.manage-collaborators .actions__public-link button[data-v-5b016e4c]{margin-left:8px}.manage-collaborators .actions__slot[data-v-5b016e4c]{flex-grow:1;display:flex;justify-content:flex-end;align-items:center}\", \"\",{\"version\":3,\"sources\":[\"webpack://./src/components/Albums/CollaboratorsSelectionForm.vue\"],\"names\":[],\"mappings\":\"AAgbA,uCACC,YAAA,CACA,qBAAA,CACA,YAAA,CACA,YAAA,CAEA,8CACC,gBAAA,CAGD,iDACC,+BAAA,CAGD,2DACC,YAAA,CAGD,6CACC,gBAAA,CACA,YAAA,CACA,qBAAA,CAEA,oDACC,iBAAA,CACA,aAAA,CAEA,0DACC,UAAA,CACA,iBAAA,CAGD,kEACC,iBAAA,CACA,OAAA,CACA,SAAA,CAIF,mDACC,WAAA,CACA,YAAA,CACA,eAAA,CAEA,2DACC,WAAA,CACA,mBAAA,CACA,qBAAA,CAEA,wHACC,yBAAA,CAGD,iEACC,uCAAA,CAIF,0DACC,cAAA,CAKH,kDACC,YAAA,CACA,qBAAA,CACA,cAAA,CACA,WAAA,CAEA,wDACC,uCAAA,CACA,aAAA,CAEA,8DACC,uCAAA,CAKH,gDACC,YAAA,CACA,cAAA,CAEA,6DACC,YAAA,CACA,kBAAA,CAEA,oEACC,eAAA,CAIF,sDACC,WAAA,CACA,YAAA,CACA,wBAAA,CACA,kBAAA\",\"sourcesContent\":[\"$sizes: (\\\"400\\\": (\\\"count\\\": 3, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"700\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 8), \\\"1024\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1280\\\": (\\\"count\\\": 4, \\\"marginTop\\\": 66, \\\"marginW\\\": 44), \\\"1440\\\": (\\\"count\\\": 5, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"1600\\\": (\\\"count\\\": 6, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2048\\\": (\\\"count\\\": 7, \\\"marginTop\\\": 88, \\\"marginW\\\": 66), \\\"2560\\\": (\\\"count\\\": 8, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"3440\\\": (\\\"count\\\": 9, \\\"marginTop\\\": 88, \\\"marginW\\\": 88), \\\"max\\\": (\\\"count\\\": 10, \\\"marginTop\\\": 88, \\\"marginW\\\": 88));\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\r\\n.manage-collaborators {\\r\\n\\tdisplay: flex;\\r\\n\\tflex-direction: column;\\r\\n\\tpadding: 20px;\\r\\n\\theight: 500px;\\r\\n\\r\\n\\t&__title {\\r\\n\\t\\tfont-weight: bold;\\r\\n\\t}\\r\\n\\r\\n\\t&__subtitle {\\r\\n\\t\\tcolor: var(--color-text-lighter);\\r\\n\\t}\\r\\n\\r\\n\\t&__public-link-button {\\r\\n\\t\\tmargin: 4px 0;\\r\\n\\t}\\r\\n\\r\\n\\t&__form {\\r\\n\\t\\tmargin-top: 4px 0;\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\r\\n\\t\\t&__input {\\r\\n\\t\\t\\tposition: relative;\\r\\n\\t\\t\\tdisplay: block;\\r\\n\\r\\n\\t\\t\\tinput {\\r\\n\\t\\t\\t\\twidth: 100%;\\r\\n\\t\\t\\t\\tpadding-left: 34px;\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t.loading-icon {\\r\\n\\t\\t\\t\\tposition: absolute;\\r\\n\\t\\t\\t\\ttop: calc(36px / 2 - 20px / 2);\\r\\n\\t\\t\\t\\tright: 8px;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t&__list {\\r\\n\\t\\t\\tpadding: 8px;\\r\\n\\t\\t\\theight: 350px;\\r\\n\\t\\t\\toverflow: scroll;\\r\\n\\r\\n\\t\\t\\t&__result {\\r\\n\\t\\t\\t\\tpadding: 8px;\\r\\n\\t\\t\\t\\tborder-radius: 100px;\\r\\n\\t\\t\\t\\tbox-sizing: border-box;\\r\\n\\r\\n\\t\\t\\t\\t&, & * {\\r\\n\\t\\t\\t\\t\\tcursor: pointer !important;\\r\\n\\t\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t\\t&:hover {\\r\\n\\t\\t\\t\\t\\tbackground: var(--color-background-dark);\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t}\\r\\n\\r\\n\\t\\t\\t&--empty {\\r\\n\\t\\t\\t\\tmargin: 100px 0;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t&__selection {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tflex-direction: column;\\r\\n\\t\\tmargin-top: 8px;\\r\\n\\t\\tflex-grow: 1;\\r\\n\\r\\n\\t\\t&__item {\\r\\n\\t\\t\\tborder-radius: var(--border-radius-pill);\\r\\n\\t\\t\\tpadding:  0 8px;\\r\\n\\r\\n\\t\\t\\t&:hover {\\r\\n\\t\\t\\t\\tbackground: var(--color-background-dark);\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\t.actions {\\r\\n\\t\\tdisplay: flex;\\r\\n\\t\\tmargin-top: 8px;\\r\\n\\r\\n\\t\\t&__public-link {\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\r\\n\\t\\t\\tbutton {\\r\\n\\t\\t\\t\\tmargin-left: 8px;\\r\\n\\t\\t\\t}\\r\\n\\t\\t}\\r\\n\\r\\n\\t\\t&__slot {\\r\\n\\t\\t\\tflex-grow: 1;\\r\\n\\t\\t\\tdisplay: flex;\\r\\n\\t\\t\\tjustify-content: flex-end;\\r\\n\\t\\t\\talign-items: center;\\r\\n\\t\\t}\\r\\n\\t}\\r\\n}\\r\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (!_vm.showCollaboratorView)?_c('form',{staticClass:\"album-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.submit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-inputs\"},[_c('NcTextField',{ref:\"nameInput\",attrs:{\"value\":_vm.albumName,\"type\":\"text\",\"name\":\"name\",\"required\":true,\"autofocus\":\"true\",\"placeholder\":_vm.t('photos', 'Name of the album')},on:{\"update:value\":function($event){_vm.albumName=$event}}}),_vm._v(\" \"),_c('label',[_c('MapMarker'),_c('NcTextField',{attrs:{\"value\":_vm.albumLocation,\"name\":\"location\",\"type\":\"text\",\"placeholder\":_vm.t('photos', 'Location of the album')},on:{\"update:value\":function($event){_vm.albumLocation=$event}}})],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"form-buttons\"},[_c('span',{staticClass:\"left-buttons\"},[(_vm.displayBackButton)?_c('NcButton',{attrs:{\"aria-label\":_vm.t('photos', 'Go back to the previous view.'),\"type\":\"tertiary\"},on:{\"click\":_vm.back}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Back'))+\"\\n\\t\\t\\t\")]):_vm._e()],1),_vm._v(\" \"),_c('span',{staticClass:\"right-buttons\"},[(_vm.sharingEnabled && !_vm.editMode)?_c('NcButton',{attrs:{\"aria-label\":_vm.t('photos', 'Go to the add collaborators view.'),\"type\":\"secondary\",\"disabled\":_vm.albumName.trim() === '' || _vm.loading},on:{\"click\":function($event){_vm.showCollaboratorView = true}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('AccountMultiplePlus')]},proxy:true}],null,false,1531126728)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Add collaborators'))+\"\\n\\t\\t\\t\")]):_vm._e(),_vm._v(\" \"),_c('NcButton',{attrs:{\"aria-label\":_vm.editMode ? _vm.t('photos', 'Save.') : _vm.t('photos', 'Create the album.'),\"type\":\"primary\",\"disabled\":_vm.albumName === '' || _vm.loading},on:{\"click\":function($event){return _vm.submit()}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('NcLoadingIcon'):_c('Send')]},proxy:true}],null,false,3914512768)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.editMode ? _vm.t('photos', 'Save') : _vm.t('photos', 'Create album'))+\"\\n\\t\\t\\t\")])],1)])]):_c('CollaboratorsSelectionForm',{attrs:{\"album-name\":_vm.albumName,\"allow-public-link\":false},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar collaborators = ref.collaborators;\nreturn [_c('span',{staticClass:\"left-buttons\"},[_c('NcButton',{attrs:{\"aria-label\":_vm.t('photos', 'Back to the new album form.'),\"type\":\"tertiary\"},on:{\"click\":function($event){_vm.showCollaboratorView = false}}},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Back'))+\"\\n\\t\\t\\t\")])],1),_vm._v(\" \"),_c('span',{staticClass:\"right-buttons\"},[_c('NcButton',{attrs:{\"aria-label\":_vm.editMode ? _vm.t('photos', 'Save.') : _vm.t('photos', 'Create the album.'),\"type\":\"primary\",\"disabled\":_vm.albumName.trim() === '' || _vm.loading},on:{\"click\":function($event){return _vm.submit(collaborators)}},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.loading)?_c('NcLoadingIcon'):_c('Send')]},proxy:true}],null,true)},[_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.editMode ? _vm.t('photos', 'Save') : _vm.t('photos', 'Create album'))+\"\\n\\t\\t\\t\")])],1)]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n - @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\r\n -\r\n - @author Louis Chemineau <louis@chmn.me>\r\n -\r\n - @license AGPL-3.0-or-later\r\n -\r\n - This program is free software: you can redistribute it and/or modify\r\n - it under the terms of the GNU Affero General Public License as\r\n - published by the Free Software Foundation, either version 3 of the\r\n - License, or (at your option) any later version.\r\n -\r\n - This program is distributed in the hope that it will be useful,\r\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n - GNU Affero General Public License for more details.\r\n -\r\n - You should have received a copy of the GNU Affero General Public License\r\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n -\r\n -->\r\n<template>\r\n\t<form v-if=\"!showCollaboratorView\" class=\"album-form\" @submit.prevent=\"submit\">\r\n\t\t<div class=\"form-inputs\">\r\n\t\t\t<NcTextField ref=\"nameInput\"\r\n\t\t\t\t:value.sync=\"albumName\"\r\n\t\t\t\ttype=\"text\"\r\n\t\t\t\tname=\"name\"\r\n\t\t\t\t:required=\"true\"\r\n\t\t\t\tautofocus=\"true\"\r\n\t\t\t\t:placeholder=\"t('photos', 'Name of the album')\" />\r\n\t\t\t<label>\r\n\t\t\t\t<MapMarker /><NcTextField :value.sync=\"albumLocation\"\r\n\t\t\t\t\tname=\"location\"\r\n\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t:placeholder=\"t('photos', 'Location of the album')\" />\r\n\t\t\t</label>\r\n\t\t</div>\r\n\t\t<div class=\"form-buttons\">\r\n\t\t\t<span class=\"left-buttons\">\r\n\t\t\t\t<NcButton v-if=\"displayBackButton\"\r\n\t\t\t\t\t:aria-label=\"t('photos', 'Go back to the previous view.')\"\r\n\t\t\t\t\ttype=\"tertiary\"\r\n\t\t\t\t\t@click=\"back\">\r\n\t\t\t\t\t{{ t('photos', 'Back') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</span>\r\n\t\t\t<span class=\"right-buttons\">\r\n\t\t\t\t<NcButton v-if=\"sharingEnabled && !editMode\"\r\n\t\t\t\t\t:aria-label=\"t('photos', 'Go to the add collaborators view.')\"\r\n\t\t\t\t\ttype=\"secondary\"\r\n\t\t\t\t\t:disabled=\"albumName.trim() === '' || loading\"\r\n\t\t\t\t\t@click=\"showCollaboratorView = true\">\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<AccountMultiplePlus />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t{{ t('photos', 'Add collaborators') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t\t<NcButton :aria-label=\"editMode ? t('photos', 'Save.') : t('photos', 'Create the album.')\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t:disabled=\"albumName === '' || loading\"\r\n\t\t\t\t\t@click=\"submit()\">\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<NcLoadingIcon v-if=\"loading\" />\r\n\t\t\t\t\t\t<Send v-else />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t{{ editMode ? t('photos', 'Save') : t('photos', 'Create album') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</span>\r\n\t\t</div>\r\n\t</form>\r\n\t<CollaboratorsSelectionForm v-else\r\n\t\t:album-name=\"albumName\"\r\n\t\t:allow-public-link=\"false\">\r\n\t\t<template slot-scope=\"{collaborators}\">\r\n\t\t\t<span class=\"left-buttons\">\r\n\t\t\t\t<NcButton :aria-label=\"t('photos', 'Back to the new album form.')\"\r\n\t\t\t\t\ttype=\"tertiary\"\r\n\t\t\t\t\t@click=\"showCollaboratorView = false\">\r\n\t\t\t\t\t{{ t('photos', 'Back') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</span>\r\n\t\t\t<span class=\"right-buttons\">\r\n\t\t\t\t<NcButton :aria-label=\"editMode ? t('photos', 'Save.') : t('photos', 'Create the album.')\"\r\n\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t:disabled=\"albumName.trim() === '' || loading\"\r\n\t\t\t\t\t@click=\"submit(collaborators)\">\r\n\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t<NcLoadingIcon v-if=\"loading\" />\r\n\t\t\t\t\t\t<Send v-else />\r\n\t\t\t\t\t</template>\r\n\t\t\t\t\t{{ editMode ? t('photos', 'Save') : t('photos', 'Create album') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</span>\r\n\t\t</template>\r\n\t</CollaboratorsSelectionForm>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\nimport MapMarker from 'vue-material-design-icons/MapMarker'\r\nimport AccountMultiplePlus from 'vue-material-design-icons/AccountMultiplePlus'\r\nimport Send from 'vue-material-design-icons/Send'\r\n\r\nimport { getCurrentUser } from '@nextcloud/auth'\r\nimport { NcButton, NcLoadingIcon, NcTextField } from '@nextcloud/vue'\r\nimport moment from '@nextcloud/moment'\r\n\r\nimport CollaboratorsSelectionForm from './CollaboratorsSelectionForm.vue'\r\n\r\nexport default {\r\n\tname: 'AlbumForm',\r\n\r\n\tcomponents: {\r\n\t\tMapMarker,\r\n\t\tAccountMultiplePlus,\r\n\t\tSend,\r\n\t\tNcButton,\r\n\t\tNcLoadingIcon,\r\n\t\tNcTextField,\r\n\t\tCollaboratorsSelectionForm,\r\n\t},\r\n\r\n\tprops: {\r\n\t\talbum: {\r\n\t\t\ttype: Object,\r\n\t\t\tdefault: null,\r\n\t\t},\r\n\t\tdisplayBackButton: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: false,\r\n\t\t},\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tshowCollaboratorView: false,\r\n\t\t\talbumName: '',\r\n\t\t\talbumLocation: '',\r\n\t\t\tloading: false,\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t/**\r\n\t\t * @return {boolean} Whether sharing is enabled.\r\n\t\t */\r\n\t\teditMode() {\r\n\t\t\treturn this.album !== null\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @return {boolean} Whether sharing is enabled.\r\n\t\t */\r\n\t\tsharingEnabled() {\r\n\t\t\treturn OC.Share !== undefined\r\n\t\t},\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tif (this.editMode) {\r\n\t\t\tthis.albumName = this.album.basename\r\n\t\t\tthis.albumLocation = this.album.location\r\n\t\t}\r\n\r\n\t\tthis.$nextTick(() => {\r\n\t\t\tthis.$refs.nameInput.$el.getElementsByTagName('input')[0].focus()\r\n\t\t})\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapActions(['createAlbum', 'renameAlbum', 'updateAlbum']),\r\n\r\n\t\tsubmit(collaborators = []) {\r\n\t\t\tif (this.albumName === '' || this.loading) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tif (this.editMode) {\r\n\t\t\t\tthis.handleUpdateAlbum()\r\n\t\t\t} else {\r\n\t\t\t\tthis.handleCreateAlbum(collaborators)\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync handleCreateAlbum(collaborators = []) {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tlet album = await this.createAlbum({\r\n\t\t\t\t\talbum: {\r\n\t\t\t\t\t\tbasename: this.albumName,\r\n\t\t\t\t\t\tfilename: `/photos/${getCurrentUser().uid}/albums/${this.albumName}`,\r\n\t\t\t\t\t\tnbItems: 0,\r\n\t\t\t\t\t\tlocation: this.albumLocation,\r\n\t\t\t\t\t\tlastPhoto: -1,\r\n\t\t\t\t\t\tdate: moment().format('MMMM YYYY'),\r\n\t\t\t\t\t\tcollaborators,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\tif (this.albumLocation !== '' || collaborators.length !== 0) {\r\n\t\t\t\t\talbum = await this.updateAlbum(\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\talbumName: this.albumName,\r\n\t\t\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\t\t\tlocation: this.albumLocation,\r\n\t\t\t\t\t\t\t\tcollaborators,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$emit('done', { album })\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync handleUpdateAlbum() {\r\n\t\t\ttry {\r\n\t\t\t\tthis.loading = true\r\n\r\n\t\t\t\tlet album = { ...this.album }\r\n\r\n\t\t\t\tif (this.album.basename !== this.albumName) {\r\n\t\t\t\t\talbum = await this.renameAlbum({ currentAlbumName: this.album.basename, newAlbumName: this.albumName })\r\n\t\t\t\t}\r\n\r\n\t\t\t\tif (this.album.location !== this.albumLocation) {\r\n\t\t\t\t\talbum.location = await this.updateAlbum({ albumName: this.albumName, properties: { location: this.albumLocation } })\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.$emit('done', { album })\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tback() {\r\n\t\t\tthis.$emit('back')\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.album-form {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\theight: 350px;\r\n\tpadding: 16px;\r\n\r\n\t.form-title {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t.form-subtitle {\r\n\t\tcolor: var(--color-text-lighter);\r\n\t}\r\n\r\n\t.form-inputs {\r\n\t\tflex-grow: 1;\r\n\t\tjustify-items: flex-end;\r\n\r\n\t\tinput {\r\n\t\t\twidth: 100%;\r\n\t\t}\r\n\r\n\t\tlabel {\r\n\t\t\tdisplay: flex;\r\n\t\t\tmargin-top: 16px;\r\n\r\n\t\t\t::v-deep svg {\r\n\t\t\t\tmargin-right: 12px;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.form-buttons {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.left-buttons, .right-buttons {\r\n\t\t\tdisplay: flex;\r\n\t\t}\r\n\r\n\t\t.right-buttons {\r\n\t\t\tjustify-content: flex-end;\r\n\t\t}\r\n\r\n\t\tbutton {\r\n\t\t\tmargin-right: 16px;\r\n\t\t}\r\n\t}\r\n}\r\n\r\n.left-buttons {\r\n\tflex-grow: 1;\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=style&index=0&id=5bc188a2&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AlbumForm.vue?vue&type=style&index=0&id=5bc188a2&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./AlbumForm.vue?vue&type=template&id=5bc188a2&scoped=true&\"\nimport script from \"./AlbumForm.vue?vue&type=script&lang=js&\"\nexport * from \"./AlbumForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./AlbumForm.vue?vue&type=style&index=0&id=5bc188a2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5bc188a2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"manage-collaborators\"},[_c('h2',{staticClass:\"manage-collaborators__title\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('photos', 'Add collaborators'))+\"\\n\\t\")]),_vm._v(\" \"),_c('div',{staticClass:\"manage-collaborators__subtitle\"},[_vm._v(\"\\n\\t\\t\"+_vm._s(_vm.t('photos', 'Add people or groups who can edit your album'))+\"\\n\\t\")]),_vm._v(\" \"),_c('form',{staticClass:\"manage-collaborators__form\",on:{\"submit\":function($event){$event.preventDefault();}}},[_c('NcPopover',{ref:\"popover\",attrs:{\"auto-size\":true,\"distance\":0}},[_c('label',{staticClass:\"manage-collaborators__form__input\",attrs:{\"slot\":\"trigger\"},slot:\"trigger\"},[_c('NcTextField',{attrs:{\"value\":_vm.searchText,\"autocomplete\":\"off\",\"type\":\"search\",\"name\":\"search\",\"aria-label\":_vm.t('photos', 'Search for collaborators'),\"aria-autocomplete\":\"list\",\"aria-controls\":(\"manage-collaborators__form__selection-\" + _vm.randomId + \" manage-collaborators__form__list-\" + _vm.randomId),\"placeholder\":_vm.t('photos', 'Search people or groups')},on:{\"update:value\":function($event){_vm.searchText=$event},\"input\":_vm.searchCollaborators}},[_c('Magnify',{attrs:{\"size\":16}})],1),_vm._v(\" \"),(_vm.loadingCollaborators)?_c('NcLoadingIcon'):_vm._e()],1),_vm._v(\" \"),(_vm.searchResults.length !== 0)?_c('ul',{staticClass:\"manage-collaborators__form__list\",attrs:{\"id\":(\"manage-collaborators__form__list-\" + _vm.randomId)}},_vm._l((_vm.searchResults),function(collaboratorKey){return _c('li',{key:collaboratorKey},[_c('NcListItemIcon',{staticClass:\"manage-collaborators__form__list__result\",attrs:{\"id\":_vm.availableCollaborators[collaboratorKey].id,\"title\":_vm.availableCollaborators[collaboratorKey].id,\"search\":_vm.searchText,\"user\":_vm.availableCollaborators[collaboratorKey].id,\"display-name\":_vm.availableCollaborators[collaboratorKey].label,\"aria-label\":_vm.t('photos', 'Add {collaboratorLabel} to the collaborators list', {collaboratorLabel: _vm.availableCollaborators[collaboratorKey].label}),\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.selectEntity(collaboratorKey)}}})],1)}),0):_c('NcEmptyContent',{key:\"emptycontent\",staticClass:\"manage-collaborators__form__list--empty\",attrs:{\"title\":_vm.t('photos', 'No collaborators available')}},[_c('AccountGroup',{attrs:{\"slot\":\"icon\"},slot:\"icon\"})],1)],1)],1),_vm._v(\" \"),_c('ul',{staticClass:\"manage-collaborators__selection\"},_vm._l((_vm.listableSelectedCollaboratorsKeys),function(collaboratorKey){return _c('li',{key:collaboratorKey,staticClass:\"manage-collaborators__selection__item\"},[_c('NcListItemIcon',{attrs:{\"id\":_vm.availableCollaborators[collaboratorKey].id,\"display-name\":_vm.availableCollaborators[collaboratorKey].label,\"title\":_vm.availableCollaborators[collaboratorKey].id,\"user\":_vm.availableCollaborators[collaboratorKey].id}},[_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('photos', 'Remove {collaboratorLabel} from the collaborators list', {collaboratorLabel: _vm.availableCollaborators[collaboratorKey].label})},on:{\"click\":function($event){return _vm.unselectEntity(collaboratorKey)}}},[_c('Close',{attrs:{\"slot\":\"icon\",\"size\":20},slot:\"icon\"})],1)],1)],1)}),0),_vm._v(\" \"),_c('div',{staticClass:\"actions\"},[(_vm.allowPublicLink)?_c('div',{staticClass:\"actions__public-link\"},[(_vm.isPublicLinkSelected)?[_c('NcButton',{staticClass:\"manage-collaborators__public-link-button\",attrs:{\"aria-label\":_vm.t('photos', 'Copy the public link'),\"disabled\":_vm.publicLink.id === ''},on:{\"click\":_vm.copyPublicLink},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [(_vm.publicLinkCopied)?_c('Check'):_c('ContentCopy')]},proxy:true}],null,false,845538853)},[(_vm.publicLinkCopied)?[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Public link copied!'))+\"\\n\\t\\t\\t\\t\\t\")]:[_vm._v(\"\\n\\t\\t\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Copy public link'))+\"\\n\\t\\t\\t\\t\\t\")]],2),_vm._v(\" \"),_c('NcButton',{attrs:{\"type\":\"tertiary\",\"aria-label\":_vm.t('photos', 'Delete the public link'),\"disabled\":_vm.publicLink.id === ''},on:{\"click\":_vm.deletePublicLink}},[(_vm.publicLink.id === '')?_c('NcLoadingIcon',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}):_c('Close',{attrs:{\"slot\":\"icon\"},slot:\"icon\"})],1)]:_c('NcButton',{staticClass:\"manage-collaborators__public-link-button\",on:{\"click\":_vm.createPublicLinkForAlbum}},[_c('Earth',{attrs:{\"slot\":\"icon\"},slot:\"icon\"}),_vm._v(\"\\n\\t\\t\\t\\t\"+_vm._s(_vm.t('photos', 'Share via public link'))+\"\\n\\t\\t\\t\")],1)],2):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"actions__slot\"},[_vm._t(\"default\",null,{\"collaborators\":_vm.selectedCollaborators})],2)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\r\n - @copyright Copyright (c) 2022 Louis Chemineau <louis@chmn.me>\r\n -\r\n - @author Louis Chemineau <louis@chmn.me>\r\n -\r\n - @license AGPL-3.0-or-later\r\n -\r\n - This program is free software: you can redistribute it and/or modify\r\n - it under the terms of the GNU Affero General Public License as\r\n - published by the Free Software Foundation, either version 3 of the\r\n - License, or (at your option) any later version.\r\n -\r\n - This program is distributed in the hope that it will be useful,\r\n - but WITHOUT ANY WARRANTY; without even the implied warranty of\r\n - MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the\r\n - GNU Affero General Public License for more details.\r\n -\r\n - You should have received a copy of the GNU Affero General Public License\r\n - along with this program. If not, see <http://www.gnu.org/licenses/>.\r\n -\r\n -->\r\n<template>\r\n\t<div class=\"manage-collaborators\">\r\n\t\t<h2 class=\"manage-collaborators__title\">\r\n\t\t\t{{ t('photos', 'Add collaborators') }}\r\n\t\t</h2>\r\n\t\t<div class=\"manage-collaborators__subtitle\">\r\n\t\t\t{{ t('photos', 'Add people or groups who can edit your album') }}\r\n\t\t</div>\r\n\r\n\t\t<form class=\"manage-collaborators__form\" @submit.prevent>\r\n\t\t\t<NcPopover ref=\"popover\"\r\n\t\t\t\t:auto-size=\"true\"\r\n\t\t\t\t:distance=\"0\">\r\n\t\t\t\t<label slot=\"trigger\" class=\"manage-collaborators__form__input\">\r\n\t\t\t\t\t<NcTextField :value.sync=\"searchText\"\r\n\t\t\t\t\t\tautocomplete=\"off\"\r\n\t\t\t\t\t\ttype=\"search\"\r\n\t\t\t\t\t\tname=\"search\"\r\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Search for collaborators')\"\r\n\t\t\t\t\t\taria-autocomplete=\"list\"\r\n\t\t\t\t\t\t:aria-controls=\"`manage-collaborators__form__selection-${randomId} manage-collaborators__form__list-${randomId}`\"\r\n\t\t\t\t\t\t:placeholder=\"t('photos', 'Search people or groups')\"\r\n\t\t\t\t\t\t@input=\"searchCollaborators\">\r\n\t\t\t\t\t\t<Magnify :size=\"16\" />\r\n\t\t\t\t\t</NcTextField>\r\n\t\t\t\t\t<NcLoadingIcon v-if=\"loadingCollaborators\" />\r\n\t\t\t\t</label>\r\n\r\n\t\t\t\t<ul v-if=\"searchResults.length !== 0\" :id=\"`manage-collaborators__form__list-${randomId}`\" class=\"manage-collaborators__form__list\">\r\n\t\t\t\t\t<li v-for=\"collaboratorKey of searchResults\" :key=\"collaboratorKey\">\r\n\t\t\t\t\t\t<NcListItemIcon :id=\"availableCollaborators[collaboratorKey].id\"\r\n\t\t\t\t\t\t\tclass=\"manage-collaborators__form__list__result\"\r\n\t\t\t\t\t\t\t:title=\"availableCollaborators[collaboratorKey].id\"\r\n\t\t\t\t\t\t\t:search=\"searchText\"\r\n\t\t\t\t\t\t\t:user=\"availableCollaborators[collaboratorKey].id\"\r\n\t\t\t\t\t\t\t:display-name=\"availableCollaborators[collaboratorKey].label\"\r\n\t\t\t\t\t\t\t:aria-label=\"t('photos', 'Add {collaboratorLabel} to the collaborators list', {collaboratorLabel: availableCollaborators[collaboratorKey].label})\"\r\n\t\t\t\t\t\t\ttabindex=\"0\"\r\n\t\t\t\t\t\t\t@click=\"selectEntity(collaboratorKey)\" />\r\n\t\t\t\t\t</li>\r\n\t\t\t\t</ul>\r\n\t\t\t\t<NcEmptyContent v-else\r\n\t\t\t\t\tkey=\"emptycontent\"\r\n\t\t\t\t\tclass=\"manage-collaborators__form__list--empty\"\r\n\t\t\t\t\t:title=\"t('photos', 'No collaborators available')\">\r\n\t\t\t\t\t<AccountGroup slot=\"icon\" />\r\n\t\t\t\t</NcEmptyContent>\r\n\t\t\t</NcPopover>\r\n\t\t</form>\r\n\r\n\t\t<ul class=\"manage-collaborators__selection\">\r\n\t\t\t<li v-for=\"collaboratorKey of listableSelectedCollaboratorsKeys\"\r\n\t\t\t\t:key=\"collaboratorKey\"\r\n\t\t\t\tclass=\"manage-collaborators__selection__item\">\r\n\t\t\t\t<NcListItemIcon :id=\"availableCollaborators[collaboratorKey].id\"\r\n\t\t\t\t\t:display-name=\"availableCollaborators[collaboratorKey].label\"\r\n\t\t\t\t\t:title=\"availableCollaborators[collaboratorKey].id\"\r\n\t\t\t\t\t:user=\"availableCollaborators[collaboratorKey].id\">\r\n\t\t\t\t\t<NcButton type=\"tertiary\"\r\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Remove {collaboratorLabel} from the collaborators list', {collaboratorLabel: availableCollaborators[collaboratorKey].label})\"\r\n\t\t\t\t\t\t@click=\"unselectEntity(collaboratorKey)\">\r\n\t\t\t\t\t\t<Close slot=\"icon\" :size=\"20\" />\r\n\t\t\t\t\t</NcButton>\r\n\t\t\t\t</NcListItemIcon>\r\n\t\t\t</li>\r\n\t\t</ul>\r\n\r\n\t\t<div class=\"actions\">\r\n\t\t\t<div v-if=\"allowPublicLink\" class=\"actions__public-link\">\r\n\t\t\t\t<template v-if=\"isPublicLinkSelected\">\r\n\t\t\t\t\t<NcButton class=\"manage-collaborators__public-link-button\"\r\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Copy the public link')\"\r\n\t\t\t\t\t\t:disabled=\"publicLink.id === ''\"\r\n\t\t\t\t\t\t@click=\"copyPublicLink\">\r\n\t\t\t\t\t\t<template v-if=\"publicLinkCopied\">\r\n\t\t\t\t\t\t\t{{ t('photos', 'Public link copied!') }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template v-else>\r\n\t\t\t\t\t\t\t{{ t('photos', 'Copy public link') }}\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t<template #icon>\r\n\t\t\t\t\t\t\t<Check v-if=\"publicLinkCopied\" />\r\n\t\t\t\t\t\t\t<ContentCopy v-else />\r\n\t\t\t\t\t\t</template>\r\n\t\t\t\t\t</NcButton>\r\n\t\t\t\t\t<NcButton type=\"tertiary\"\r\n\t\t\t\t\t\t:aria-label=\"t('photos', 'Delete the public link')\"\r\n\t\t\t\t\t\t:disabled=\"publicLink.id === ''\"\r\n\t\t\t\t\t\t@click=\"deletePublicLink\">\r\n\t\t\t\t\t\t<NcLoadingIcon v-if=\"publicLink.id === ''\" slot=\"icon\" />\r\n\t\t\t\t\t\t<Close v-else slot=\"icon\" />\r\n\t\t\t\t\t</NcButton>\r\n\t\t\t\t</template>\r\n\t\t\t\t<NcButton v-else\r\n\t\t\t\t\tclass=\"manage-collaborators__public-link-button\"\r\n\t\t\t\t\t@click=\"createPublicLinkForAlbum\">\r\n\t\t\t\t\t<Earth slot=\"icon\" />\r\n\t\t\t\t\t{{ t('photos', 'Share via public link') }}\r\n\t\t\t\t</NcButton>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div class=\"actions__slot\">\r\n\t\t\t\t<slot :collaborators=\"selectedCollaborators\" />\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\nimport { mapActions } from 'vuex'\r\n\r\nimport Magnify from 'vue-material-design-icons/Magnify'\r\nimport Close from 'vue-material-design-icons/Close'\r\nimport Check from 'vue-material-design-icons/Check'\r\nimport ContentCopy from 'vue-material-design-icons/ContentCopy'\r\nimport AccountGroup from 'vue-material-design-icons/AccountGroup'\r\nimport Earth from 'vue-material-design-icons/Earth'\r\n\r\nimport axios from '@nextcloud/axios'\r\nimport { showError } from '@nextcloud/dialogs'\r\nimport { getCurrentUser } from '@nextcloud/auth'\r\nimport { generateOcsUrl, generateUrl } from '@nextcloud/router'\r\nimport { NcButton, NcListItemIcon, NcLoadingIcon, NcPopover, NcTextField, NcEmptyContent } from '@nextcloud/vue'\r\nimport { Type } from '@nextcloud/sharing'\r\n\r\nimport logger from '../../services/logger.js'\r\nimport AbortControllerMixin from '../../mixins/AbortControllerMixin.js'\r\nimport { fetchAlbum } from '../../services/Albums.js'\r\n\r\n/**\r\n * @typedef {object} Collaborator\r\n * @property {string} id - The id of the collaborator.\r\n * @property {string} label - The label of the collaborator for display.\r\n * @property {Type.SHARE_TYPE_USER|Type.SHARE_TYPE_GROUP|Type.SHARE_TYPE_LINK} type - The type of the collaborator.\r\n */\r\n\r\nexport default {\r\n\tname: 'CollaboratorsSelectionForm',\r\n\r\n\tcomponents: {\r\n\t\tMagnify,\r\n\t\tClose,\r\n\t\tAccountGroup,\r\n\t\tContentCopy,\r\n\t\tCheck,\r\n\t\tEarth,\r\n\t\tNcLoadingIcon,\r\n\t\tNcButton,\r\n\t\tNcListItemIcon,\r\n\t\tNcTextField,\r\n\t\tNcPopover,\r\n\t\tNcEmptyContent,\r\n\t},\r\n\r\n\tmixins: [AbortControllerMixin],\r\n\r\n\tprops: {\r\n\t\talbumName: {\r\n\t\t\ttype: String,\r\n\t\t\trequired: true,\r\n\t\t},\r\n\r\n\t\t/** @type {import('vue').PropType<Collaborator[]>} */\r\n\t\tcollaborators: {\r\n\t\t\ttype: Array,\r\n\t\t\tdefault: () => [],\r\n\t\t},\r\n\r\n\t\tallowPublicLink: {\r\n\t\t\ttype: Boolean,\r\n\t\t\tdefault: true,\r\n\t\t},\r\n\t},\r\n\r\n\tdata() {\r\n\t\treturn {\r\n\t\t\tsearchText: '',\r\n\t\t\t/** @type {Object<string, Collaborator>} */\r\n\t\t\tavailableCollaborators: {},\r\n\t\t\t/** @type {string[]} */\r\n\t\t\tselectedCollaboratorsKeys: [],\r\n\t\t\t/** @type {Collaborator[]} */\r\n\t\t\tcurrentSearchResults: [],\r\n\t\t\tloadingAlbum: false,\r\n\t\t\terrorFetchingAlbum: null,\r\n\t\t\tloadingCollaborators: false,\r\n\t\t\trandomId: Math.random().toString().substring(2, 10),\r\n\t\t\tpublicLinkCopied: false,\r\n\t\t\tconfig: {\r\n\t\t\t\tminSearchStringLength: parseInt(OC.config['sharing.minSearchStringLength'], 10) || 0,\r\n\t\t\t},\r\n\t\t}\r\n\t},\r\n\r\n\tcomputed: {\r\n\t\t/**\r\n\t\t * @return {string[]}\r\n\t\t */\r\n\t\tsearchResults() {\r\n\t\t\treturn this.currentSearchResults\r\n\t\t\t\t.filter(({ id }) => id !== getCurrentUser().uid)\r\n\t\t\t\t.map(({ type, id }) => `${type}:${id}`)\r\n\t\t\t\t.filter(collaboratorKey => !this.selectedCollaboratorsKeys.includes(collaboratorKey))\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @return {string[]}\r\n\t\t */\r\n\t\tlistableSelectedCollaboratorsKeys() {\r\n\t\t\treturn this.selectedCollaboratorsKeys\r\n\t\t\t\t.filter(collaboratorKey => this.availableCollaborators[collaboratorKey].type !== Type.SHARE_TYPE_LINK)\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @return {Collaborator[]}\r\n\t\t */\r\n\t\tselectedCollaborators() {\r\n\t\t\treturn this.selectedCollaboratorsKeys\r\n\t\t\t\t.map((collaboratorKey) => this.availableCollaborators[collaboratorKey])\r\n\t\t},\r\n\r\n\t\t/**\r\n\t\t * @return {boolean}\r\n\t\t */\r\n\t\tisPublicLinkSelected() {\r\n\t\t\treturn this.selectedCollaboratorsKeys.includes(`${Type.SHARE_TYPE_LINK}`)\r\n\t\t},\r\n\r\n\t\t/** @return {Collaborator} */\r\n\t\tpublicLink() {\r\n\t\t\treturn this.availableCollaborators[Type.SHARE_TYPE_LINK]\r\n\t\t},\r\n\t},\r\n\r\n\twatch: {\r\n\t\tcollaborators(collaborators) {\r\n\t\t\tthis.populateCollaborators(collaborators)\r\n\t\t},\r\n\t},\r\n\r\n\tmounted() {\r\n\t\tthis.searchCollaborators()\r\n\t\tthis.populateCollaborators(this.collaborators)\r\n\t},\r\n\r\n\tmethods: {\r\n\t\t...mapActions(['updateAlbum', 'addAlbums']),\r\n\r\n\t\t/**\r\n\t\t * Fetch possible collaborators.\r\n\t\t */\r\n\t\tasync searchCollaborators() {\r\n\t\t\tif (this.searchText.length >= 1) {\r\n\t\t\t\tthis.$refs.popover.$refs.popover.show()\r\n\t\t\t}\r\n\r\n\t\t\ttry {\r\n\t\t\t\tif (this.searchText.length < this.config.minSearchStringLength) {\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.loadingCollaborators = true\r\n\t\t\t\tconst response = await axios.get(generateOcsUrl('core/autocomplete/get'), {\r\n\t\t\t\t\tparams: {\r\n\t\t\t\t\t\tsearch: this.searchText,\r\n\t\t\t\t\t\titemType: 'share-recipients',\r\n\t\t\t\t\t\tshareTypes: [\r\n\t\t\t\t\t\t\tType.SHARE_TYPE_USER,\r\n\t\t\t\t\t\t\tType.SHARE_TYPE_GROUP,\r\n\t\t\t\t\t\t],\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\r\n\t\t\t\tthis.currentSearchResults = response.data.ocs.data\r\n\t\t\t\t\t.map(collaborator => {\r\n\t\t\t\t\t\tswitch (collaborator.source) {\r\n\t\t\t\t\t\tcase 'users':\r\n\t\t\t\t\t\t\treturn { id: collaborator.id, label: collaborator.label, type: Type.SHARE_TYPE_USER }\r\n\t\t\t\t\t\tcase 'groups':\r\n\t\t\t\t\t\t\treturn { id: collaborator.id, label: collaborator.label, type: Type.SHARE_TYPE_GROUP }\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\tthrow new Error(`Invalid collaborator source ${collaborator.source}`)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\tthis.availableCollaborators = {\r\n\t\t\t\t\t...this.availableCollaborators,\r\n\t\t\t\t\t...this.currentSearchResults.reduce(this.indexCollaborators, {}),\r\n\t\t\t\t}\r\n\t\t\t} catch (error) {\r\n\t\t\t\tthis.errorFetchingCollaborators = error\r\n\t\t\t\tlogger.error(t('photos', 'Failed to fetch collaborators list.'), error)\r\n\t\t\t\tshowError(t('photos', 'Failed to fetch collaborators list.'))\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingCollaborators = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\n\t\t *\r\t\t Populate selectedCollaboratorsKeys and availableCollaborators.\r\t\t *\r\t\t * @param {Collaborator[]} collaborators\n\t\t *\n\t\t * @param collaborators\n\t\t */\r\n\t\tpopulateCollaborators(collaborators) {\r\n\t\t\tconst initialCollaborators = collaborators.reduce(this.indexCollaborators, {})\r\n\t\t\tthis.selectedCollaboratorsKeys = Object.keys(initialCollaborators)\r\n\t\t\tthis.availableCollaborators = {\r\n\t\t\t\t3: {\r\n\t\t\t\t\tid: '',\r\n\t\t\t\t\tlabel: t('photos', 'Public link'),\r\n\t\t\t\t\ttype: Type.SHARE_TYPE_LINK,\r\n\t\t\t\t},\r\n\t\t\t\t...this.availableCollaborators,\r\n\t\t\t\t...initialCollaborators,\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\t/**\n\t\t *\r\t\t @param {Object<string, Collaborator>} collaborators - Index of collaborators\r\t\t * @param {Collaborator} collaborator - A collaborator\n\t\t *\n\t\t * @param collaborators\n\t\t * @param collaborator\n\t\t */\r\n\t\tindexCollaborators(collaborators, collaborator) {\r\n\t\t\treturn { ...collaborators, [`${collaborator.type}${collaborator.type === Type.SHARE_TYPE_LINK ? '' : ':'}${collaborator.type === Type.SHARE_TYPE_LINK ? '' : collaborator.id}`]: collaborator }\r\n\t\t},\r\n\r\n\t\tasync createPublicLinkForAlbum() {\r\n\t\t\tthis.selectEntity(`${Type.SHARE_TYPE_LINK}`)\r\n\t\t\tawait this.updateAlbumCollaborators()\r\n\t\t\ttry {\r\n\t\t\t\tthis.loadingAlbum = true\r\n\t\t\t\tthis.errorFetchingAlbum = null\r\n\r\n\t\t\t\tconst album = await fetchAlbum(\r\n\t\t\t\t\t`/photos/${getCurrentUser().uid}/albums/${this.albumName}`,\r\n\t\t\t\t\t{ signal: this.abortController.signal }\r\n\t\t\t\t)\r\n\r\n\t\t\t\tthis.addAlbums({ albums: [album] })\r\n\t\t\t} catch (error) {\r\n\t\t\t\tif (error.response?.status === 404) {\r\n\t\t\t\t\tthis.errorFetchingAlbum = 404\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.errorFetchingAlbum = error\r\n\t\t\t\t}\r\n\r\n\t\t\t\tlogger.error('[PublicAlbumContent] Error fetching album', { error })\r\n\t\t\t\tshowError(this.t('photos', 'Failed to fetch album.'))\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingAlbum = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync deletePublicLink() {\r\n\t\t\tthis.unselectEntity(`${Type.SHARE_TYPE_LINK}`)\r\n\t\t\tthis.availableCollaborators[3] = {\r\n\t\t\t\tid: '',\r\n\t\t\t\tlabel: t('photos', 'Public link'),\r\n\t\t\t\ttype: Type.SHARE_TYPE_LINK,\r\n\t\t\t}\r\n\t\t\tthis.publicLinkCopied = false\r\n\t\t\tawait this.updateAlbumCollaborators()\r\n\t\t},\r\n\r\n\t\tasync updateAlbumCollaborators() {\r\n\t\t\ttry {\r\n\t\t\t\tawait this.updateAlbum({\r\n\t\t\t\t\talbumName: this.albumName,\r\n\t\t\t\t\tproperties: {\r\n\t\t\t\t\t\tcollaborators: this.selectedCollaborators,\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t} catch (error) {\r\n\t\t\t\tlogger.error('[PublicAlbumContent] Error updating album', { error })\r\n\t\t\t\tshowError(this.t('photos', 'Failed to update album.'))\r\n\t\t\t} finally {\r\n\t\t\t\tthis.loadingAlbum = false\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tasync copyPublicLink() {\r\n\t\t\tawait navigator.clipboard.writeText(`${window.location.protocol}//${window.location.host}${generateUrl(`apps/photos/public/${this.publicLink.id}`)}`)\r\n\t\t\tthis.publicLinkCopied = true\r\n\t\t\tsetTimeout(() => {\r\n\t\t\t\tthis.publicLinkCopied = false\r\n\t\t\t}, 10000)\r\n\t\t},\r\n\r\n\t\tselectEntity(collaboratorKey) {\r\n\t\t\tif (this.selectedCollaboratorsKeys.includes(collaboratorKey)) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.$refs.popover.$refs.popover.hide()\r\n\t\t\tthis.selectedCollaboratorsKeys.push(collaboratorKey)\r\n\t\t},\r\n\r\n\t\tunselectEntity(collaboratorKey) {\r\n\t\t\tconst index = this.selectedCollaboratorsKeys.indexOf(collaboratorKey)\r\n\r\n\t\t\tif (index === -1) {\r\n\t\t\t\treturn\r\n\t\t\t}\r\n\r\n\t\t\tthis.selectedCollaboratorsKeys.splice(index, 1)\r\n\t\t},\r\n\t},\r\n}\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.manage-collaborators {\r\n\tdisplay: flex;\r\n\tflex-direction: column;\r\n\tpadding: 20px;\r\n\theight: 500px;\r\n\r\n\t&__title {\r\n\t\tfont-weight: bold;\r\n\t}\r\n\r\n\t&__subtitle {\r\n\t\tcolor: var(--color-text-lighter);\r\n\t}\r\n\r\n\t&__public-link-button {\r\n\t\tmargin: 4px 0;\r\n\t}\r\n\r\n\t&__form {\r\n\t\tmargin-top: 4px 0;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\r\n\t\t&__input {\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: block;\r\n\r\n\t\t\tinput {\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\tpadding-left: 34px;\r\n\t\t\t}\r\n\r\n\t\t\t.loading-icon {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: calc(36px / 2 - 20px / 2);\r\n\t\t\t\tright: 8px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&__list {\r\n\t\t\tpadding: 8px;\r\n\t\t\theight: 350px;\r\n\t\t\toverflow: scroll;\r\n\r\n\t\t\t&__result {\r\n\t\t\t\tpadding: 8px;\r\n\t\t\t\tborder-radius: 100px;\r\n\t\t\t\tbox-sizing: border-box;\r\n\r\n\t\t\t\t&, & * {\r\n\t\t\t\t\tcursor: pointer !important;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\tbackground: var(--color-background-dark);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&--empty {\r\n\t\t\t\tmargin: 100px 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t&__selection {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tmargin-top: 8px;\r\n\t\tflex-grow: 1;\r\n\r\n\t\t&__item {\r\n\t\t\tborder-radius: var(--border-radius-pill);\r\n\t\t\tpadding:  0 8px;\r\n\r\n\t\t\t&:hover {\r\n\t\t\t\tbackground: var(--color-background-dark);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.actions {\r\n\t\tdisplay: flex;\r\n\t\tmargin-top: 8px;\r\n\r\n\t\t&__public-link {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\tbutton {\r\n\t\t\t\tmargin-left: 8px;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t&__slot {\r\n\t\t\tflex-grow: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: flex-end;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\t}\r\n}\r\n</style>\r\n","import mod from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=script&lang=js&\"","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=5b016e4c&lang=scss&scoped=true&\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/dist/cjs.js!../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-2[0].rules[0].use[3]!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=5b016e4c&lang=scss&scoped=true&\";\n       export default content && content.locals ? content.locals : undefined;\n","import { render, staticRenderFns } from \"./CollaboratorsSelectionForm.vue?vue&type=template&id=5b016e4c&scoped=true&\"\nimport script from \"./CollaboratorsSelectionForm.vue?vue&type=script&lang=js&\"\nexport * from \"./CollaboratorsSelectionForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CollaboratorsSelectionForm.vue?vue&type=style&index=0&id=5b016e4c&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5b016e4c\",\n  null\n  \n)\n\nexport default component.exports"],"names":["name","data","errorFetchingAlbums","loadingAlbums","mixins","AbortControllerMixin","beforeMount","fetchAlbums","computed","mapGetters","methods","mapActions","getCurrentUser","uid","abortController","signal","albums","addAlbums","response","status","___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","_vm","this","_h","$createElement","_c","_self","showCollaboratorView","attrs","albumName","scopedSlots","_u","key","fn","ref","collaborators","staticClass","t","on","$event","_v","_s","editMode","trim","loading","submit","proxy","preventDefault","apply","arguments","albumLocation","back","_e","sharingEnabled","slot","searchText","randomId","searchCollaborators","searchResults","length","_l","collaboratorKey","availableCollaborators","label","collaboratorLabel","selectEntity","unselectEntity","publicLink","copyPublicLink","deletePublicLink","createPublicLinkForAlbum","_t","selectedCollaborators"],"sourceRoot":""}